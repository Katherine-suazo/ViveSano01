{% extends 'base.html' %}
{% load static %}

{% block title %}Editar Reserva{% endblock %}

{% block content %}

<h2>Editar Reserva #{{ reserva.id }}</h2>
<p><strong>Producto:</strong> {{ reserva.producto.nombre_producto }}</p>
<p><strong>Fecha solicitud:</strong> {{ reserva.fecha_solicitud }}</p>
<p><strong>Fecha entrega:</strong> {% if reserva.fecha_entrega %}{{ reserva.fecha_entrega }}{% else %}-{% endif %}</p>

<form method="post">
    {% csrf_token %}
    {% for field in formulario_recibido %}
        <div class="mb-3">
            {{ field.label_tag }} {{ field }}
            {% if field.errors %}<div class="text-danger small">{{ field.errors }}</div>{% endif %}
        </div>
    {% endfor %}

    <button class="btn btn-primary" type="submit">Guardar cambios</button>
</form>

<form method="post" action="{% url 'cancelar_reserva' reserva.id %}" style="margin-top:10px; display:inline-block;">
    {% csrf_token %}
    <button class="btn btn-danger" type="submit">Cancelar reserva</button>
</form>

<a class="btn btn-secondary" href="{% url 'lista_reservas' %}">Volver</a>

{% endblock %}